# 命令行操作教程（Windows）

本文提供可直接照做的 Git 上传/下载操作：本地纯 Git 演示和 GitHub 实战（SSH）。

## 一、环境准备
- 检查 Git：`git --version`
- 设置身份（显示在提交记录）：
  - `git config --global user.name "你的名字"`
  - `git config --global user.email "你的邮箱"`

## 二、快速本地演示（无网络）
在 `e:\StudyDevelopment-Journey\Git` 下完整走一遍 push/clone/pull。

1) 创建一个“裸仓库”（充当远端）：
```powershell
mkdir e:\StudyDevelopment-Journey\Git\remote-demo.git
git init --bare e:\StudyDevelopment-Journey\Git\remote-demo.git
```

2) 初始化项目并首次提交：
```powershell
mkdir e:\StudyDevelopment-Journey\Git\demo-app
cd e:\StudyDevelopment-Journey\Git\demo-app
git init
"# 本地演示项目" | Out-File -Encoding UTF8 README.md（powershell) echo # 本地演示项目 > README.md (cdm)
#安全处理
# 如果要在整个开发目录工作，添加父目录
git config --global --add safe.directory E:/StudyDevelopment-Journey/Git
# 或者添加所有子目录
git config --global --add safe.directory "E:/StudyDevelopment-Journey/Git/*"

git config --add safe.directory .

git add README.md
git commit -m "初始化项目，添加 README"
```

3) 关联远端并首次上传：
```powershell
git remote add origin e:\StudyDevelopment-Journey\Git\remote-demo.git
git branch -M main
git push -u origin main
```

4) 模拟“下载”：从该远端克隆到新目录：
```powershell
cd e:\StudyDevelopment-Journey\Git
git clone e:\StudyDevelopment-Journey\Git\remote-demo.git demo-app-clone
```

5) 在克隆目录修改并再次上传：
```powershell
cd e:\StudyDevelopment-Journey\Git\demo-app-clone
"演示第二次提交" | Add-Content README.md
git add README.md
git commit -m "更新 README，演示二次提交"
git push
```

6) 回到原项目拉取更新：
```powershell
cd e:\StudyDevelopment-Journey\Git\demo-app
git pull
```

完成后，你已体验：`push`（上传）、`clone`（下载新副本）、`pull`（拉更新）。

## 三、GitHub 实战（SSH免密）
1) 在 GitHub 新建仓库（如 `my-first-repo`），记住 SSH 地址：`git@github.com:<你的用户名>/my-first-repo.git`

2) 生成 SSH 密钥（一路回车）：
```powershell
ssh-keygen -t ed25519 -C "你的邮箱"
```
公钥在：`C:\Users\<你的Windows用户名>\.ssh\id_ed25519.pub`，复制内容到 GitHub：Settings → SSH and GPG keys → New SSH key。

3) 测试连接：
```powershell
ssh -T git@github.com
```
输入 `yes` 后出现欢迎语即成功。

4) 关联并上传：
```powershell
cd e:\StudyDevelopment-Journey\Git\demo-app
git remote add origin git@github.com:<你的用户名>/my-first-repo.git
git branch -M main
git push -u origin main
```

5) 下载（克隆到新目录）：
```powershell
cd e:\StudyDevelopment-Journey\Git
git clone git@github.com:<你的用户名>/my-first-repo.git my-first-repo
```

6) 拉取更新：
```powershell
cd e:\StudyDevelopment-Journey\Git\my-first-repo
git pull
```

若用 HTTPS，远端形如 `https://github.com/<你的用户名>/my-first-repo.git`，首次 `git push` 时用 PAT 作为密码。

## 四、常用命令速查
- 查看状态：`git status`
- 提交记录：`git log --oneline --graph --decorate`
- 新分支/切换：`git checkout -b feature-x`，`git switch main`
- 拉取（合并）：`git pull`
- 拉取（变基）：`git pull --rebase`
- 设置上游：`git push -u origin <分支>`
- 修改上一提交说明：`git commit --amend`
- 暂存未提交改动：`git stash`，恢复：`git stash pop`

## 五、分支与冲突快速示例
1) 创建分支并提交：
```powershell
git checkout -b feature-docs
# 修改文件...
git add .
git commit -m "完善文档"
git push -u origin feature-docs
```

2) 合并到 main：
```powershell
git switch main
git pull --rebase
git merge feature-docs
git push
```

3) 若冲突：
- 打开冲突文件，保留正确内容；
- `git add <冲突文件>` 后 `git commit` 完成合并；
- `git push` 推送。